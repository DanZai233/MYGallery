# MYGallery - ä¸ªäººç…§ç‰‡å¢™ç³»ç»Ÿ

<div align="center">
  <h1>ğŸ“· MYGallery</h1>
  <p>ä¸€ä¸ªç®€çº¦ã€ç¾è§‚ã€åŠŸèƒ½å®Œæ•´çš„ä¸ªäººç…§ç‰‡å¢™ç³»ç»Ÿ</p>
  <p>
    <img src="https://img.shields.io/badge/Version-1.1.4-blue" alt="Version">
    <img src="https://img.shields.io/badge/Go-1.24+-00ADD8?style=flat&logo=go" alt="Go Version">
    <img src="https://img.shields.io/badge/License-MIT-green.svg" alt="License">
  </p>
</div>

---

## ğŸ“¸ ç•Œé¢é¢„è§ˆ

### æš—è‰²æ¨¡å¼ Â· ç€‘å¸ƒæµç”»å»Š

é»˜è®¤æš—è‰²ä¸»é¢˜ï¼Œ5 åˆ—ç´§å‡‘ç€‘å¸ƒæµå¸ƒå±€ï¼Œä¾§æ  SVG ç®€ç¬”ç”»å›¾æ ‡å¯¼èˆªã€‚

![æš—è‰²æ¨¡å¼ç”»å»Š](docs/screenshots/gallery-dark.webp)

### äº®è‰²æ¨¡å¼

ä¸€é”®åˆ‡æ¢äº®è‰²/æš—è‰²ä¸»é¢˜ï¼Œåå¥½è‡ªåŠ¨è®°å¿†ã€‚

![äº®è‰²æ¨¡å¼ç”»å»Š](docs/screenshots/gallery-light.webp)

### ç¯ç®±æŸ¥çœ‹å™¨ Â· EXIF ä¿¡æ¯é¢æ¿

ChronoFrame é£æ ¼å…¨å±æŸ¥çœ‹å™¨ï¼Œå³ä¾§ä¿¡æ¯é¢æ¿åˆ†åŒºå±•ç¤º EXIF å…ƒæ•°æ®ï¼Œåº•éƒ¨ç¼©ç•¥å›¾æ¡å¯å¿«é€Ÿè·³è½¬ã€‚

![ç¯ç®±æŸ¥çœ‹å™¨](docs/screenshots/lightbox-info.webp)

### ç¯ç®± Â· GPS è¿·ä½ åœ°å›¾

å½“ç…§ç‰‡åŒ…å« GPS åæ ‡æ—¶ï¼Œä¿¡æ¯é¢æ¿é¡¶éƒ¨åµŒå…¥ Leaflet è¿·ä½ åœ°å›¾ï¼Œå®æ—¶æ˜¾ç¤ºæ‹æ‘„ä½ç½®ã€‚

![GPS è¿·ä½ åœ°å›¾](docs/screenshots/lightbox-minimap.webp)

### ç¯ç®± Â· å…¨å±æ¨¡å¼

ç‚¹å‡» â„¹ æŒ‰é’®å…³é—­ä¿¡æ¯é¢æ¿åï¼Œç…§ç‰‡è‡ªåŠ¨é“ºæ»¡å…¨å±å±…ä¸­å±•ç¤ºã€‚

![å…¨å±æ¨¡å¼](docs/screenshots/lightbox-fullwidth.webp)

### è¡¨æ€ç³»ç»Ÿ

è®¿å®¢å¯å¯¹ç…§ç‰‡è¿›è¡Œ emoji è¡¨æ€ï¼ˆğŸ‘â¤ï¸ğŸ˜ğŸ˜‚ğŸ˜®ğŸ˜¢ğŸ”¥âœ¨ï¼‰ï¼Œæ— éœ€ç™»å½•ï¼ŒåŸºäºæŒ‡çº¹è¯†åˆ«ã€‚

| è¡¨æ€é€‰æ‹©å™¨ | è¡¨æ€å·²æ·»åŠ  |
|:---:|:---:|
| ![è¡¨æ€é€‰æ‹©å™¨](docs/screenshots/reactions.webp) | ![è¡¨æ€å·²æ·»åŠ ](docs/screenshots/reaction-added.webp) |

### ç…§ç‰‡åœ°å›¾

åŸºäº Leaflet + OpenStreetMap çš„å…¨å±åœ°å›¾ï¼Œå±•ç¤ºå¸¦ GPS åæ ‡çš„ç…§ç‰‡ä½ç½®ï¼Œæ”¯æŒèšåˆæ ‡è®°ã€‚

| åœ°å›¾æ ‡è®° | æ ‡è®°å¼¹çª— |
|:---:|:---:|
| ![åœ°å›¾æ ‡è®°](docs/screenshots/map-markers.webp) | ![æ ‡è®°å¼¹çª—](docs/screenshots/map-popup.webp) |

### åå°ç®¡ç†

ChronoFrame é£æ ¼ä¾§æ å¯¼èˆªï¼Œä»ªè¡¨ç›˜ç»Ÿè®¡ï¼Œæ‹–æ‹½ä¸Šä¼ ï¼Œç…§ç‰‡/åˆ†ç±»ç®¡ç†ã€‚

![åå°ç®¡ç†](docs/screenshots/admin.webp)

---

## âœ¨ ç‰¹æ€§

### ğŸ¨ å‰ç«¯å±•ç¤º
- **ç€‘å¸ƒæµå¸ƒå±€** â€” 5/4/3/2 åˆ—è‡ªé€‚åº”ï¼Œ4px ç´§å‡‘é—´è·
- **æš—è‰²æ¨¡å¼é»˜è®¤** â€” ChronoFrame é£æ ¼ä¸­æ€§é…è‰²
- **ä¾§æ å›¾æ ‡å¯¼èˆª** â€” SVG ç®€ç¬”ç”»å›¾æ ‡ï¼Œæç®€è®¾è®¡
- **ç¯ç®±æŸ¥çœ‹å™¨** â€” å…¨å±æŸ¥çœ‹ + å³ä¾§ä¿¡æ¯é¢æ¿ + åº•éƒ¨ç¼©ç•¥å›¾å¯¼èˆª
- **GPS è¿·ä½ åœ°å›¾** â€” ä¿¡æ¯é¢æ¿åµŒå…¥ Leaflet åœ°å›¾æ˜¾ç¤ºæ‹æ‘„ä½ç½®
- **è¡¨æ€ç³»ç»Ÿ** â€” 8 ç§ emoji è¡¨æ€ï¼ŒæŒ‡çº¹è¯†åˆ«åŒ¿åç”¨æˆ·
- **åˆ†äº«é“¾æ¥** â€” ä¸€é”®å¤åˆ¶ç…§ç‰‡ç›´é“¾ï¼ˆ`?photo=ID`ï¼‰ï¼Œæ”¯æŒ Deep Link
- **åˆ†ç±»ç­›é€‰** â€” æŒ‰åˆ†ç±»å¿«é€Ÿç­›é€‰ï¼Œæ¨ªå‘æ»‘åŠ¨æ”¯æŒ
- **æœç´¢åŠŸèƒ½** â€” æœç´¢æ ‡é¢˜ã€æè¿°ã€æ ‡ç­¾ã€ä½ç½®
- **äº®æš—åˆ‡æ¢** â€” ä¸€é”®åˆ‡æ¢ï¼Œè®°å¿†ç”¨æˆ·åå¥½

### ğŸ“± ç§»åŠ¨ç«¯å‹å¥½
- ç§»åŠ¨ç«¯åº•éƒ¨æ å¯¼èˆª
- å¡ç‰‡è§¦æ‘¸äº¤äº’ï¼Œç¯ç®±è§¦æ‘¸æ»‘åŠ¨
- ç§»åŠ¨ç«¯ä¿¡æ¯é¢æ¿è‡ªé€‚åº”ä¸ºåº•éƒ¨å¼¹å‡º
- åˆ†ç±»æ¨ªå‘æ»šåŠ¨

### âš™ï¸ åå°ç®¡ç†
- ä¾§æ å¯¼èˆªï¼šä»ªè¡¨ç›˜ã€åˆ†ç±»ç®¡ç†ã€ç½‘ç«™è®¾ç½®ã€åœ°å›¾ã€å‰å°
- æ‹–æ‹½ä¸Šä¼ ï¼Œæ‰¹é‡ä¸Šä¼ ï¼Œå®æ—¶è¿›åº¦
- EXIF è‡ªåŠ¨æå– + æ‰‹åŠ¨ç¼–è¾‘
- Live Photo ä¸Šä¼ ï¼ˆç…§ç‰‡ + é…å¥—è§†é¢‘ï¼‰

### ğŸ“ ç…§ç‰‡åœ°å›¾
- Leaflet + OpenStreetMapï¼Œæ— éœ€ API Key
- ç…§ç‰‡ç¼©ç•¥å›¾æ ‡è®° + å¼¹å‡ºè¯¦æƒ…å¡
- å¯†é›†åŒºåŸŸèšåˆæ ‡è®°
- ç¼©æ”¾æ§åˆ¶ + é‡ç½®

### ğŸ“¸ EXIF å…ƒæ•°æ®

å…¼å®¹ç›¸æœºï¼ˆNikon / Canon / Sony / Fujifilmï¼‰å’Œæ‰‹æœºï¼ˆiPhone / Androidï¼‰ï¼Œæå–å­—æ®µï¼š

| å­—æ®µ | è¯´æ˜ |
|------|------|
| å“ç‰Œ / å‹å· | Camera Make / Model |
| é•œå¤´å‹å· | Lens Model |
| ç„¦è· / å…‰åœˆ / å¿«é—¨ / ISO | Focal / Aperture / Shutter / ISO |
| GPS åæ ‡ | çº¬åº¦ / ç»åº¦ï¼ˆè‡ªåŠ¨è¿‡æ»¤ 0,0ï¼‰ |
| æ‹æ‘„æ—¶é—´ | DateTimeOriginal |
| è½¯ä»¶ / å›ºä»¶ | Software |
| ç™½å¹³è¡¡ / é—ªå…‰ç¯ | White Balance / Flash |
| æ›å…‰æ¨¡å¼ / æµ‹å…‰æ¨¡å¼ | Exposure / Metering |
| æ›å…‰è¡¥å¿ / è‰²å½©ç©ºé—´ | Exposure Bias / Color Space |
| åœºæ™¯ç±»å‹ / æ–¹å‘ | Scene Type / Orientation |

ç¼©ç•¥å›¾ç”Ÿæˆæ—¶è‡ªåŠ¨æ ¹æ® EXIF æ–¹å‘æ—‹è½¬ã€‚

### ğŸ¬ Live Photo
- ä¸Šä¼ æ—¶é™„åŠ é…å¥— `.mov` è§†é¢‘
- å‰ç«¯ LIVE å¾½ç« æ ‡è¯†
- API æ”¯æŒ `live_photo` å­—æ®µ

### ğŸ”§ çµæ´»é…ç½®
- **å¤šæ•°æ®åº“** â€” SQLiteï¼ˆé»˜è®¤ï¼‰ã€MySQLã€PostgreSQL
- **å¤šå­˜å‚¨** â€” æœ¬åœ°ï¼ˆé»˜è®¤ï¼‰ã€AWS S3ã€MinIOã€é˜¿é‡Œäº‘ OSS
- **äº‘ç«¯ç¼©ç•¥å›¾** â€” æ‰€æœ‰å­˜å‚¨åç«¯æ”¯æŒç¼©ç•¥å›¾è‡ªåŠ¨ä¸Šä¼ 

---

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Go 1.24+**ï¼ˆéœ€ CGOï¼ŒSQLite é©±åŠ¨ä¾èµ–ï¼‰
- **GCC**ï¼ˆC ç¼–è¯‘å™¨ï¼‰

### æœ¬åœ°è¿è¡Œ

```bash
git clone https://github.com/danzai233/mygallery.git
cd mygallery
go mod download
cp config.example.yaml config.yaml
make init
go run main.go
```

è®¿é—®ï¼š
| é¡µé¢ | åœ°å€ |
|------|------|
| ğŸ“· å‰å°ç”»å»Š | http://localhost:8080 |
| âš™ï¸ åå°ç®¡ç† | http://localhost:8080/admin |
| ğŸ—ºï¸ ç…§ç‰‡åœ°å›¾ | http://localhost:8080/map.html |
| ğŸ‘¤ é»˜è®¤è´¦å· | `admin` / `admin123` |

### Docker éƒ¨ç½²

```bash
cp config.example.yaml config.yaml
docker compose build && docker compose up -d
```

### Makefile

```bash
make help    # æ‰€æœ‰å‘½ä»¤
make run     # è¿è¡Œ
make build   # ç¼–è¯‘
make test    # æµ‹è¯•
make dev     # çƒ­é‡è½½
```

---

## ğŸ”§ é…ç½®è¯¦è§£

é…ç½®æ–‡ä»¶ä¸ºé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `config.yaml`ï¼Œé¦–æ¬¡ä½¿ç”¨è¯·ä»ç¤ºä¾‹æ–‡ä»¶å¤åˆ¶ï¼š

```bash
cp config.example.yaml config.yaml
```

ä»¥ä¸‹é€é¡¹è¯´æ˜æ¯ä¸ªé…ç½®å—ã€‚**åªéœ€ä¿®æ”¹ä½ ç”¨åˆ°çš„éƒ¨åˆ†**ï¼Œæœªç”¨åˆ°çš„ä¿æŒé»˜è®¤å³å¯ã€‚

### æœåŠ¡å™¨é…ç½®

```yaml
server:
  host: "0.0.0.0"       # ç›‘å¬åœ°å€ï¼Œ0.0.0.0 è¡¨ç¤ºæ‰€æœ‰ç½‘å¡
  port: 8080             # ç›‘å¬ç«¯å£
  mode: "release"        # è¿è¡Œæ¨¡å¼ï¼šdebugï¼ˆå¼€å‘ï¼Œè¾“å‡ºè¯¦ç»†æ—¥å¿—ï¼‰/ releaseï¼ˆç”Ÿäº§ï¼‰/ test
```

> å¼€å‘æ—¶å»ºè®®è®¾ä¸º `debug`ï¼Œå¯ä»¥çœ‹åˆ°æ¯ä¸ªè¯·æ±‚çš„è¯¦ç»†æ—¥å¿—ã€‚

### æ•°æ®åº“é…ç½®

é€šè¿‡ `database.type` åˆ‡æ¢æ•°æ®åº“ç±»å‹ï¼Œ**åªéœ€é…ç½®ä½ é€‰ç”¨çš„é‚£ä¸€ç§**ã€‚

#### SQLiteï¼ˆé»˜è®¤ï¼Œé›¶ä¾èµ–ï¼‰

```yaml
database:
  type: "sqlite"
  sqlite:
    path: "./data/mygallery.db"   # æ•°æ®åº“æ–‡ä»¶è·¯å¾„ï¼Œä¼šè‡ªåŠ¨åˆ›å»º
```

> SQLite ä¸éœ€è¦é¢å¤–å®‰è£…æ•°æ®åº“æœåŠ¡ï¼Œé€‚åˆä¸ªäººéƒ¨ç½²ã€‚æ•°æ®åº“æ–‡ä»¶ä¿å­˜åœ¨ `data/` ç›®å½•ä¸‹ã€‚

#### MySQL

```yaml
database:
  type: "mysql"
  mysql:
    host: "localhost"        # MySQL ä¸»æœºåœ°å€
    port: 3306               # ç«¯å£
    username: "root"         # ç”¨æˆ·å
    password: "your-pass"    # å¯†ç 
    database: "mygallery"    # æ•°æ®åº“åï¼ˆéœ€æå‰åˆ›å»ºï¼‰
    charset: "utf8mb4"       # å­—ç¬¦é›†ï¼Œå»ºè®® utf8mb4 ä»¥æ”¯æŒ emoji
```

> éœ€è¦æå‰åˆ›å»ºæ•°æ®åº“ï¼š`CREATE DATABASE mygallery CHARACTER SET utf8mb4;`

#### PostgreSQL

```yaml
database:
  type: "postgres"
  postgres:
    host: "localhost"        # PostgreSQL ä¸»æœºåœ°å€
    port: 5432               # ç«¯å£
    username: "postgres"     # ç”¨æˆ·å
    password: "your-pass"    # å¯†ç 
    database: "mygallery"    # æ•°æ®åº“åï¼ˆéœ€æå‰åˆ›å»ºï¼‰
    sslmode: "disable"       # SSL æ¨¡å¼ï¼šdisable / require / verify-full
```

> éœ€è¦æå‰åˆ›å»ºæ•°æ®åº“ï¼š`CREATE DATABASE mygallery;`

### å­˜å‚¨é…ç½®

é€šè¿‡ `storage.type` åˆ‡æ¢å­˜å‚¨åç«¯ã€‚æ‰€æœ‰åç«¯å‡æ”¯æŒè‡ªåŠ¨ç”Ÿæˆå’Œä¸Šä¼ ç¼©ç•¥å›¾ã€‚

#### æœ¬åœ°å­˜å‚¨ï¼ˆé»˜è®¤ï¼‰

```yaml
storage:
  type: "local"
  local:
    upload_dir: "./uploads"              # åŸå›¾å­˜æ”¾ç›®å½•
    thumbnail_dir: "./uploads/thumbnails" # ç¼©ç•¥å›¾ç›®å½•
    url_prefix: "/uploads"               # å‰ç«¯è®¿é—® URL å‰ç¼€
```

#### AWS S3

```yaml
storage:
  type: "s3"
  s3:
    region: "us-east-1"                              # AWS åŒºåŸŸ
    bucket: "mygallery"                              # S3 Bucket åç§°
    access_key: "AKIAIOSFODNN7EXAMPLE"               # Access Key ID
    secret_key: "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLE"  # Secret Access Key
    endpoint: ""                                     # ç•™ç©ºä½¿ç”¨ AWS é»˜è®¤ç«¯ç‚¹ï¼Œæˆ–å¡«è‡ªå®šä¹‰ç«¯ç‚¹
    url_prefix: "https://mygallery.s3.amazonaws.com" # å›¾ç‰‡è®¿é—® URL å‰ç¼€
```

> `endpoint` ç•™ç©ºä¼šä½¿ç”¨ AWS é»˜è®¤ç«¯ç‚¹ã€‚å¦‚æœä½¿ç”¨å…¼å®¹ S3 åè®®çš„æœåŠ¡ï¼ˆå¦‚ Cloudflare R2ï¼‰ï¼Œéœ€è¦å¡«å†™å¯¹åº”çš„ endpointã€‚

#### MinIOï¼ˆè‡ªå»º S3 å…¼å®¹å­˜å‚¨ï¼‰

```yaml
storage:
  type: "minio"
  minio:
    endpoint: "localhost:9000"                      # MinIO æœåŠ¡åœ°å€ï¼ˆä¸å« http://ï¼‰
    bucket: "mygallery"                             # Bucket åç§°ï¼Œä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»º
    access_key: "minioadmin"                        # Access Key
    secret_key: "minioadmin"                        # Secret Key
    use_ssl: false                                  # æ˜¯å¦ä½¿ç”¨ HTTPS
    url_prefix: "http://localhost:9000/mygallery"   # å›¾ç‰‡è®¿é—® URL å‰ç¼€
```

#### é˜¿é‡Œäº‘ OSS

```yaml
storage:
  type: "aliyun"
  aliyun:
    endpoint: "oss-cn-hangzhou.aliyuncs.com"              # OSS Endpointï¼ˆä¸å« Bucket åï¼‰
    bucket: "mygallery"                                   # Bucket åç§°
    access_key: "LTAI5tExample"                           # AccessKey ID
    secret_key: "HpMGhExample"                            # AccessKey Secret
    url_prefix: "https://mygallery.oss-cn-hangzhou.aliyuncs.com"  # è®¿é—® URL å‰ç¼€
```

> é˜¿é‡Œäº‘ Endpoint åˆ—è¡¨å‚è€ƒï¼š[OSS å„åœ°åŸŸ Endpoint](https://help.aliyun.com/document_detail/31837.html)

### JWT è®¤è¯é…ç½®

```yaml
jwt:
  secret: "your-secret-key-change-this"   # JWT ç­¾åå¯†é’¥ï¼Œâš ï¸ ç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ä¿®æ”¹ï¼
  expire_hours: 168                       # Token æœ‰æ•ˆæœŸï¼ˆå°æ—¶ï¼‰ï¼Œé»˜è®¤ 7 å¤©
```

> **å®‰å…¨æç¤º**ï¼š`secret` å»ºè®®ä½¿ç”¨éšæœºå­—ç¬¦ä¸²ï¼Œè‡³å°‘ 32 ä½ã€‚å¯ä»¥ç”¨ `openssl rand -hex 32` ç”Ÿæˆã€‚

### ç®¡ç†å‘˜é…ç½®

```yaml
admin:
  username: "admin"          # ç®¡ç†å‘˜ç”¨æˆ·å
  password: "admin123"       # åˆå§‹å¯†ç ï¼Œé¦–æ¬¡å¯åŠ¨åè‡ªåŠ¨åŠ å¯†å­˜å‚¨
  email: "admin@example.com" # ç®¡ç†å‘˜é‚®ç®±
```

> é¦–æ¬¡å¯åŠ¨æ—¶ä¼šç”¨æ­¤é…ç½®åˆ›å»ºç®¡ç†å‘˜è´¦å·ã€‚å¯†ç ä¼šè‡ªåŠ¨ bcrypt åŠ å¯†ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„å¯†ç ä¸ä¼šå½±å“å·²åˆ›å»ºçš„è´¦å·ã€‚å¦‚éœ€é‡ç½®å¯†ç ï¼Œåˆ é™¤ `data/mygallery.db` é‡æ–°åˆå§‹åŒ–ã€‚

### å›¾ç‰‡å¤„ç†é…ç½®

```yaml
image:
  max_upload_size: 52428800   # å•å¼ å›¾ç‰‡æœ€å¤§ä¸Šä¼ å¤§å°ï¼ˆå­—èŠ‚ï¼‰ï¼Œé»˜è®¤ 50MB
  allowed_types:              # å…è®¸ä¸Šä¼ çš„å›¾ç‰‡ MIME ç±»å‹
    - "image/jpeg"
    - "image/png"
    - "image/gif"
    - "image/webp"
  thumbnail:
    width: 400                # ç¼©ç•¥å›¾æœ€å¤§å®½åº¦ï¼ˆåƒç´ ï¼‰
    height: 400               # ç¼©ç•¥å›¾æœ€å¤§é«˜åº¦ï¼ˆåƒç´ ï¼‰
    quality: 85               # ç¼©ç•¥å›¾ JPEG å‹ç¼©è´¨é‡ï¼ˆ1-100ï¼‰
```

### CORS è·¨åŸŸé…ç½®

```yaml
cors:
  enabled: true               # æ˜¯å¦å¯ç”¨ CORS
  allow_origins:              # å…è®¸çš„æ¥æºåŸŸå
    - "*"                     # * è¡¨ç¤ºå…è®¸æ‰€æœ‰åŸŸåï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®æŒ‡å®šå…·ä½“åŸŸå
  allow_methods:              # å…è®¸çš„ HTTP æ–¹æ³•
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  allow_headers:              # å…è®¸çš„è¯·æ±‚å¤´
    - "Origin"
    - "Content-Type"
    - "Authorization"
```

### åº”ç”¨é…ç½®

```yaml
app:
  name: "MYGallery"                                     # åº”ç”¨åç§°
  version: "1.1.4"                                      # ç‰ˆæœ¬å·
  site_title: "MYGallery"                               # ç½‘ç«™æ ‡é¢˜
  site_description: "A simple and beautiful photo gallery system"  # ç½‘ç«™æè¿°
  pagination:
    page_size: 20                                       # é»˜è®¤æ¯é¡µç…§ç‰‡æ•°
```

### å®Œæ•´é…ç½®ç¤ºä¾‹

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´ config.yaml ç¤ºä¾‹ï¼ˆMySQL + S3ï¼‰</summary>

```yaml
server:
  host: "0.0.0.0"
  port: 8080
  mode: "release"

database:
  type: "mysql"
  mysql:
    host: "db.example.com"
    port: 3306
    username: "mygallery"
    password: "StrongP@ssw0rd"
    database: "mygallery"
    charset: "utf8mb4"

storage:
  type: "s3"
  s3:
    region: "ap-northeast-1"
    bucket: "my-gallery-photos"
    access_key: "AKIAIOSFODNN7EXAMPLE"
    secret_key: "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLE"
    endpoint: ""
    url_prefix: "https://my-gallery-photos.s3.ap-northeast-1.amazonaws.com"

jwt:
  secret: "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"
  expire_hours: 72

admin:
  username: "admin"
  password: "MySecureP@ss123"
  email: "admin@example.com"

image:
  max_upload_size: 104857600  # 100MB
  allowed_types:
    - "image/jpeg"
    - "image/png"
    - "image/gif"
    - "image/webp"
  thumbnail:
    width: 600
    height: 600
    quality: 80

cors:
  enabled: true
  allow_origins:
    - "https://gallery.example.com"
  allow_methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
  allow_headers: ["Origin", "Content-Type", "Authorization"]

app:
  name: "My Photo Gallery"
  version: "1.1.4"
  site_title: "My Photo Gallery"
  site_description: "Personal photography showcase"
  pagination:
    page_size: 30
```

</details>

---

## ğŸŒ API

### å…¬å¼€æ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/photos` | ç…§ç‰‡åˆ—è¡¨ï¼ˆ`page`, `size`, `category`, `search`ï¼‰ |
| GET | `/api/photos/:id` | ç…§ç‰‡è¯¦æƒ… |
| GET | `/api/categories` | åˆ†ç±»åˆ—è¡¨ |
| GET | `/api/settings` | ç½‘ç«™è®¾ç½® |
| GET | `/api/photos/:id/reactions` | è¡¨æ€ç»Ÿè®¡ |
| POST | `/api/photos/:id/reactions` | æ·»åŠ /æ›´æ–°è¡¨æ€ |
| DELETE | `/api/photos/:id/reactions` | åˆ é™¤è¡¨æ€ |
| GET | `/health` | å¥åº·æ£€æŸ¥ |

### éœ€è®¤è¯æ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/auth/login` | ç™»å½• |
| POST | `/api/photos` | ä¸Šä¼ ç…§ç‰‡ï¼ˆæ”¯æŒ `live_photo` å­—æ®µï¼‰ |
| PUT | `/api/photos/:id` | æ›´æ–°ç…§ç‰‡ |
| DELETE | `/api/photos/:id` | åˆ é™¤ç…§ç‰‡ |
| POST | `/api/categories` | åˆ›å»ºåˆ†ç±» |
| PUT / DELETE | `/api/categories/:id` | æ›´æ–° / åˆ é™¤åˆ†ç±» |

---

## ğŸš€ éƒ¨ç½²

<details>
<summary>äºŒè¿›åˆ¶è¿è¡Œ</summary>

```bash
go build -o mygallery main.go
cp config.example.yaml config.yaml
mkdir -p data uploads uploads/thumbnails
./mygallery
```
</details>

<details>
<summary>Nginx åå‘ä»£ç†</summary>

```nginx
server {
    listen 80;
    server_name gallery.example.com;
    client_max_body_size 50M;
    location / {
        proxy_pass http://127.0.0.1:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
```
</details>

<details>
<summary>Systemd æœåŠ¡</summary>

```ini
[Unit]
Description=MYGallery
After=network.target
[Service]
Type=simple
WorkingDirectory=/opt/mygallery
ExecStart=/opt/mygallery/mygallery
Restart=on-failure
[Install]
WantedBy=multi-user.target
```
</details>

---

## ğŸ”’ å®‰å…¨å»ºè®®

1. ä¿®æ”¹é»˜è®¤å¯†ç å’Œ JWT å¯†é’¥
2. ç”Ÿäº§ç¯å¢ƒå¯ç”¨ HTTPS
3. é…ç½®é˜²ç«å¢™
4. å®šæœŸå¤‡ä»½ `data/` å’Œ `uploads/`

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ |
|------|------|
| åç«¯ | Go + Gin + GORM |
| è®¤è¯ | JWT |
| EXIF | rwcarlsen/goexif |
| å›¾ç‰‡ | disintegration/imaging |
| æ•°æ®åº“ | SQLite / MySQL / PostgreSQL |
| å­˜å‚¨ | Local / S3 / MinIO / Aliyun OSS |
| å‰ç«¯ | Vanilla JS + Tailwind CSS |
| åœ°å›¾ | Leaflet + OpenStreetMap |

## ğŸ“„ License

MIT

---

<div align="center">
  <p>Made with â¤ï¸ by MYGallery</p>
</div>
